---
## Author
author:
  name: Ярослав Антонович Меркулов
  degrees: DSc
  orcid: 0000-0002-0877-7063
  email: tusa.merkulov@gmail.com
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6

## Title
title: "Отчёт по лабораторной работе №8"
license: "CC BY"
---

# Цель работы

Получить навыки работы с планировщиками событий cron и at.

# Задание

1. Выполните задания по планированию задач с помощью crond (см. раздел 8.4.1).
2. Выполните задания по планированию задач с помощью atd (см. раздел 8.4.2).


# Выполнение лабораторной работы

1. Через учетную запись root проверяем статус службы crond

![Служба crond](image/1.png){#fig-001 width=70%}

2. Просматриваем crontab (конфигурация)

![crontab](image/2.png){#fig-002 width=70%}

3. Проверяем список заданий в расписании

![Расписание](image/3.png){#fig-003 width=70%}

4. Открываем файл расписания на редактирование и введём команду, которая выводит сообщение каждую минуту, каждый день, месяц, год, в любой день недели.

![Команда в crontab](image/4.png){#fig-004 width=70%}

5. Снова проверяем расписание 

![Расписание](image/5.png){#fig-005 width=70%}

6. Проверяем журнал событий через пару минут

![Системный журнал](image/6.png){#fig-006 width=70%}

7. Меняем команду. Теперь сообщение выводится каждый час, с первого по пятый день недели.

![Новая команда](image/7.png){#fig-007 width=70%}

8. Создаём файл конфигурации eachhour в /etc/cron.hourly

![Файл конфигурации](image/8.png){#fig-008 width=70%}

9. Записываем команду в файл. Будет выводится сообщение с текущей датой

![Скрипт](image/9.png){#fig-009 width=70%}

10. Выдаём файлу права на выполнение

![Права на выполнение](image/10.png){#fig-010 width=70%}

11. Создаём конфигурационный файл в другом каталоге

![Создание конфигурации](image/11.png){#fig-011 width=70%}

12. Вводим команду в конфигурацию

![Команда](image/12.png){#fig-012 width=70%}

13. Спустя час видим два вывода. Одна команда с датой, другая в 11 минуту каждого часа

![Вывод команд](image/17.png){#fig-013 width=70%}

14. Под root проверяем службу atd

![Служба atd](image/13.png){#fig-014 width=70%}

15. Создаём задачу в 13 19. 

![Создание задачи](image/14.png){#fig-015 width=70%}

16. Проверяем задачи через atq

![Задачи](image/15.png){#fig-016 width=70%}

17. Проверяем вывод

![Вывод](image/16.png){#fig-017 width=70%}

# Ответы на контрольные вопросы

1. Как настроить задание cron, чтобы оно выполнялось раз в 2 недели?

0 0 */14 * * команда

2. Как настроить задание cron, чтобы оно выполнялось 1-го и 15-го числа каждого
месяца в 2 часа ночи?

0 2 1,15 * * команда

3. Как настроить задание cron, чтобы оно выполнялось каждые 2 минуты каждый день?

*/2 * * * * команда

4. Как настроить задание cron, чтобы оно выполнялось 19 сентября ежегодно?

0 0 19 9 * команда

5. Как настроить задание cron, чтобы оно выполнялось каждый четверг сентября ежегодно?

0 0 * 9 4 команда


6. Какая команда позволяет вам назначить задание cron для пользователя alice? Приведите подтверждающий пример.

sudo crontab -u alice -e

7. Как указать, что пользователю bob никогда не разрешено назначать задания через
cron? Приведите подтверждающий пример.

cat /etc/cron.deny


8. Какая команда позволяет узнать, запланированы ли какие-либо задания на выполнение планировщиком atd?

atq


# Выводы

Были получены навыки работы с планировщиками событий cron и at.

