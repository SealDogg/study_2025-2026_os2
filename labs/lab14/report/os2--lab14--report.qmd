---
## Author
author:
  name: Ярослав Антонович Меркулов
  degrees: DSc
  orcid: 0000-0002-0877-7063
  email: tusa.merkulov@gmail.com
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6

## Title
title: "Отчёт по лабораторной работе №14"
license: "CC BY"
---

# Цель работы

Получить навыки создания разделов на диске и файловых систем. Получить навыки монтирования файловых систем

# Задание

1. Добавьте два диска на виртуальной машине (раздел 14.4.1).
2. Продемонстрируйте навыки создания разделов MBR с помощью fdisk (раздел 14.4.2).
3. Продемонстрируйте навыки создания логических разделов с помощью fdisk (раз-
дел 14.4.3).
4. Продемонстрируйте навыки создания раздела подкачки с помощью fdisk (раз-
дел 14.4.4).
5. Продемонстрируйте навыки создания разделов GPT с помощью gdisk (раздел 14.4.5).
6. Продемонстрируйте навыки форматирования файловой системы XFS (раздел 14.4.6).
7. Продемонстрируйте навыки форматирования файловой системы EXT4 (раздел 14.4.7).
8. Продемонстрируйте навыки ручного монтирования файловых систем (раздел 14.4.8).
9. Продемонстрируйте навыки монтирования файловых систем с помощью /etc/fstab
(раздел 14.4.9).
10. Выполните задание для самостоятельной работы (раздел 14.5).


# Выполнение лабораторной работы

1. Создаём 2 диска по 512 МБ, подключаем к виртуальной машине

![Диски ВМ](image/1.png){#fig-001 width=70%}

2. Выводим все доступные диски (3 штуки)

![Доступные диски](image/2.png){#fig-002 width=70%}

3. На первом свободном диске создаём раздел на 300 МБ, тип раздела - по умолчанию

![Создание раздела MBR](image/3.png){#fig-003 width=70%}

4. Создаём ещё один раздел (Extended). Он заполнит всё оставшееся место на диске.

![Extended раздел](image/4.png){#fig-004 width=70%}

5. Создаём логический раздел весом 101МБ

![Создание логического раздела](image/5.png){#fig-005 width=70%}

6. Проверяем все изменения, сохраняем

![Разделы](image/6.png){#fig-006 width=70%}

7. Создаём раздел подкачки на диске, размер 100МБ

![Раздел подкачки](image/7.png){#fig-007 width=70%}

8. Сохраняем изменения и проверяем разделы на диске

![Разделы на sdb](image/8.png){#fig-008 width=70%}

9. Форматируем раздел подкачки, включаем его, проверяем

![Включение раздела подкачки](image/9.png){#fig-009 width=70%}

10. С помощью gdisk создаём на втором диске раздел GPT весом 100МБ, проверяем

![Создание разделов gpt](image/10.png){#fig-010 width=70%}

11. Форматируем раздел с первого диска под файловую систему XFS

![Создание файловой системы xfs](image/11.png){#fig-011 width=70%}

12. Устанавливаем метки файловой системы

![Метки файловой системы](image/12.png){#fig-012 width=70%}

13. Создаём файловую систему ext4 на 5 разделе диска sdb, вводим параметры работы

![ext4](image/13.png){#fig-013 width=70%}

14. Создаём директорию для монтирования раздела, монтируем в неё 5 раздел, проверяем командой mount

![Ручное монтирование](image/14.png){#fig-014 width=70%}

15. Отмонтируем раздел, проверяем

![Отмнотирование](image/15.png){#fig-015 width=70%}

16. Создаём раздел для монтирования раздела XFS, смотрим информацию об идентификаторах блочных устройств UUID

![Создание раздела и просмотр UUID](image/16.png){#fig-016 width=70%}

17. Копируем UUID для нашего раздела

![Копирование UUID](image/17.png){#fig-017 width=70%}

18. В файле /etc/fstab прописываем параметры монтирования и uuid.

![/etc/fstab](image/18.png){#fig-018 width=70%}

19. Проверяем перед перезагрузкой, всё работает штатно

![Проверка](image/19.png){#fig-019 width=70%}

# Самостоятельная работа

1. Создаём раздел gpt для подкачки, код 8200

![Создание раздела подкачки](image/20.png){#fig-020 width=70%}

2. Создаём обычный раздел, который потом преобразуется в ext4

![Создание раздела](image/21.png){#fig-021 width=70%}

3. Создаём на разделе sdc3 файловую систему ext4

![Создание ext4](image/22.png){#fig-022 width=70%}

4. Вносим изменения в параметры

![Создание раздела](image/23.png){#fig-023 width=70%}

5. Создаём подкачку на sdc2, включаем, проверяем

![Раздел подкачки](image/24.png){#fig-024 width=70%}

6. Создаём директорию для монтирования, смотрим uuid.

![Создание директории монтирования](image/25.png){#fig-025 width=70%}

7. Копируем uuid

![uuid нужного раздела](image/26.png){#fig-026 width=70%}

8. Добавляем в /etc/fstab информацию о разделе, uuid, папку монтирования, файловую систему, настройки

![Редактирование /etc/fstab](image/27.png){#fig-027 width=70%}

9. Монтируем перед перезагрузкой, проверяем

![Проверка перед перезагрузкой](image/28.png){#fig-028 width=70%}

10. Перезагружаемся и проверяем монтирование

![Проверка после перезагрузки](image/29.png){#fig-029 width=70%}

# Контрольные вопросы

1. Какой инструмент используется для создания разделов GUID?

Для создания разделов GUID используется gdisk

2. Какой инструмент применяется для создания разделов MBR?


Для создания разделов MBR используется fdisk

3. Какой файл используется для автоматического монтирования разделов во время
загрузки?

/etc/fstab

4. Какой вариант монтирования целесообразно выбрать, если необходимо, чтобы файловая система не была автоматически примонтирована во время загрузки?

В ручную, через команду mount

5. Какая команда позволяет форматировать раздел с типом 82 с соответствующей файловой системой?

swap (раздел с типом 82 является подкачкой)

6. Вы только что добавили несколько разделов для автоматического монтирования
при загрузке. Как можно безопасно проверить, будет ли это работать без реальной
перезагрузки?

Команда mount -a смонтирует всё из /etc/fstab и покажет ошибки (если они есть)

7. Какая файловая система создаётся, если вы используете команду mkfs без какой-либо
спецификации файловой системы?

EXT2

8. Как форматировать раздел EXT4?

mkfs.ext4 <раздел>

9. Как найти UUID для всех устройств на компьютере?

blkid

# Выводы

Были получены навыки создания разделов на диске и файловых систем, навыки монтирования файловых систем

