---
## Author
author:
  name: Ярослав Антонович Меркулов
  degrees: DSc
  orcid: 0000-0002-0877-7063
  email: tusa.merkulov@gmail.com
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6

## Title
title: "Отчёт по лабораторной работе №5"
license: "CC BY"
---

# Цель работы

Получить навыки управления системными службами операционной системы посред-
ством systemd

# Задание

1. Выполните основные операции по запуску (останову), определению статуса, добавле-
нию (удалению) в автозапуск и пр. службы Very Secure FTP (раздел 5.4.1).
2. Продемонстрируйте навыки по разрешению конфликтов юнитов для служб
firewalld и iptables (раздел 5.4.2).
3. Продемонстрируйте навыки работы с изолированными целями (разделы 5.4.3, 5.4.4).


# Выполнение лабораторной работы

1. Через учетную запись root проверяем статус службы vsftpd

![Проверка статуса службы](image/1.png){#fig-001 width=70%}

2. Устаналиваем vsftpd

![Установка пакета](image/2.png){#fig-002 width=70%}

3. Запускаем службу и проверяем её статус, она активна

![Запуск службы и проверка статуса](image/3.png){#fig-003 width=70%}

4. Включаем автозапуск службы

![Настройка автозапуска](image/4.png){#fig-004 width=70%}

5. Проверяем статус. Автозапуск включен

![Статус службы](image/5.png){#fig-005 width=70%}

6. Выключаем автозапуск, проверяем статус

![Выключение автозапуска и проверка статуса](image/6.png){#fig-006 width=70%}

7. Проверяем наличие в папке автозапуска (службы там нет)

![Проверка автозапуска в файлах](image/7.png){#fig-007 width=70%}

8. Включаем автозапуск и снова проверяем файлы, сервис появился

![Просмотр файлов автозапуска](image/8.png){#fig-008 width=70%}

9. Проверяем статус

![Проверка статуса](image/9.png){#fig-009 width=70%}

10. Проверяем, какие службы зависят от vsftpd и от каких зависит сама vsftpd

![Зависимые службы](image/10.png){#fig-010 width=70%}

![Службы, от которых зависит vsftpd](image/11.png){#fig-011 width=70%}

11. Скачиваем iptables\*

![Установка iptables](image/12.png){#fig-012 width=70%}

12. Проверяем статус firewalld

![Статус firewalld](image/13.png){#fig-013 width=70%}

13. Проверяем статус iptables. Он не активен

![Статус iptables](image/14.png){#fig-014 width=70%}

14. Запускаем обе службы, работать будет только последняя (т.к. они конфликтуют друг с другом)

![Запуск служб](image/15.png){#fig-015 width=70%}

15. Проверяем iptables (включилась)

![Статус iptables](image/16.png){#fig-016 width=70%}

16. Проверяем статус firewalld (отключилась)

![Статус firewalld](image/17.png){#fig-017 width=70%}

17. Проверяем данные о iptables

![Данные iptables](image/18.png){#fig-018 width=70%}

18. Останавливаем iptables, запускаем firewalld

![Остановка iptables и запуск firewalld](image/19.png){#fig-019 width=70%}

19. Маскируем iptables

![Маскировка iptables](image/20.png){#fig-020 width=70%}

20. Пытаемся запустить или добавить в автозагрузку iptables. Попытка неудачна

![Попытка запустить или добавить службу в автозагрузку](image/21.png){#fig-021 width=70%}

21. Ищем службы, в функциях которых есть isolate

![Поиск](image/22.png){#fig-022 width=70%}

22. Запускаем систему в режиме восстановления

![Запуск в режиме восстановления](image/23.png){#fig-023 width=70%}

23. С правами su проверяем режим запуска по умолчанию

![Режим запуска по умолчанию](image/24.png){#fig-024 width=70%}

24. Меняем его на multi user (текстовый режим)

![Удаляем lynx](image/25.png){#fig-025 width=70%}

25. Перезагружаемся и видим текстовый режим

![Текстовый режим](image/26.png){#fig-026 width=70%}

26. Меняем режим на графический

![Установка графического режима](image/27.png){#fig-027 width=70%}

27. После перезагрузки видим графический режим

![Графический режим](image/28.png){#fig-028 width=70%}

# Выводы

Были получены теоретические и практические навыки управлению системными службами операционной системы посред-
ством systemd

